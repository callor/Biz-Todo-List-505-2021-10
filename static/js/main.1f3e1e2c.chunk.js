(this["webpackJsonpreact-todo-v3"]=this["webpackJsonpreact-todo-v3"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(22),a=n.n(o),i=(n(29),n.p+"static/media/logo.6ce24c58.svg"),s=(n(30),n(31),n(20)),u=n(9),l=n(10),d=n(0),j=Object(c.createContext)(),b=function(){return Object(c.useContext)(j)};var h=function(e){var t=e.children,n=Object(c.useState)({t_id:0,t_text:"\ub9ac\uc561\ud2b8 \ubcf5\uc2b5",t_comp:!1}),r=Object(l.a)(n,2),o=r[0],a=r[1],i=Object(c.useState)([]),b=Object(l.a)(i,2),h=b[0],O=b[1],f=Object(c.useRef)(0),p=Object(c.useRef)(),x=function(){if(""===o.t_text)return window.alert("\ud560\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694 ~~~"),void p.current.focus();O([].concat(Object(s.a)(h),[o])),f.current++,console.log(f.current),g()},g=function(){a({t_id:f.current,t_text:"",t_comp:!1})},v={todo:o,todoList:h,inputId:p,onChange:function(e){var t=e.target.value;a(Object(u.a)(Object(u.a)({},o),{},{t_text:t,t_id:f.current}))},onClick:function(){return x()},onKeyPress:function(e){console.log(e.key),"Enter"===e.key?x():"Escape"===e.key&&g()},onDeleteClick:function(e){if(window.confirm("\uc0ad\uc81c\ud560\uae4c\uc694?")){var t=Number(e.target.dataset.todoId);alert(t);var n=h.filter((function(e){return e.t_id!==t}));O(n)}},onCompClick:function(e){var t=Number(e.target.dataset.todoId),n=h.findIndex((function(e){return e.t_id===t})),c=h[n],r=Object(s.a)(h);r[n]=Object(u.a)(Object(u.a)({},c),{},{t_comp:!c.t_comp}),O(r)}};return Object(d.jsx)(j.Provider,{value:v,children:t})},O=Object(c.createContext)(),f=function(){return Object(c.useContext)(O)};var p=function(e){var t=e.children,n=Object(c.useState)(),r=Object(l.a)(n,2),o={user:r[0],setUser:r[1]};return Object(d.jsx)(O.Provider,{value:o,children:t})};var x=function(e){var t=e.header,n=e.form,c=e.children;return Object(d.jsx)(h,{children:Object(d.jsxs)("main",{className:"todo_main_layout",children:[Object(d.jsx)("div",{className:"title",children:t}),Object(d.jsx)("section",{className:"form_wrapper",children:n}),Object(d.jsx)("section",{className:"list_wrapper",children:c})]})})};var g=function(){var e=b().todoList.map((function(e){return Object(d.jsx)(m,{todo:e},e.t_id)}));return Object(d.jsx)("div",{children:e})};n(33);var v=function(){var e=b(),t=e.inputId,n=e.todo,c=e.onChange,r=e.onClick,o=e.onKeyPress;return Object(d.jsxs)("div",{className:"form",children:[Object(d.jsx)("input",{ref:t,onChange:c,value:n.t_text,onKeyPress:o}),Object(d.jsx)("div",{className:"btn_insert",onClick:r,children:"\ucd94\uac00"})]})};n(34);var m=function(e){var t=e.todo,n=t.t_id,c=t.t_text,r=t.t_comp,o=b(),a=o.onDeleteClick,i=o.onCompClick;return Object(d.jsxs)("div",{className:"todo_item",children:[Object(d.jsx)("div",{className:"todo_delete",onClick:a,"data-todo-id":n,children:"\xd7"}),Object(d.jsx)("div",{className:"todo_text ".concat(r&&"checked","  "),onClick:i,"data-todo-id":n,children:c}),r&&Object(d.jsx)("div",{className:"check_mark",children:"\u2713"})]})},w=n(4),k=n.n(w),C=n(8),_=n(16),N=(n(36),n(2)),y={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000"},credentials:"include"},I=function(){var e=Object(C.a)(k.a.mark((function e(t,n){var c,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.body=JSON.stringify({userid:t,password:n}),e.next=3,fetch("http://localhost:8080/users/login",y);case 3:if(!(c=e.sent).ok){e.next=9;break}return e.next=7,c.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var P=function(){var e=f().setUser,t=Object(c.useState)({userid:"",password:""}),n=Object(l.a)(t,2),r=n[0],o=n[1],a=Object(N.e)(),i=function(e){o(Object(u.a)(Object(u.a)({},r),{},Object(_.a)({},e.target.name,e.target.value)))},s=function(){var t=Object(C.a)(k.a.mark((function t(n){var c,o,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.userid,o=r.password,t.next=3,I(c,o);case 3:return i=t.sent,t.next=6,e(i);case 6:a.replace("/");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"login_form",children:[Object(d.jsx)("input",{name:"userid",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:i}),Object(d.jsx)("input",{name:"password",type:"password",placeholder:"\ube44\ube4c\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",onChange:i}),Object(d.jsx)("button",{onClick:s,children:"\ub85c\uadf8\uc778"}),Object(d.jsx)(F,{})]})},A=n(12),S=function(e){var t=e.children;return Object(d.jsx)(A.a,{basename:ProcessingInstruction.env.PUBLIC_URL,children:t})};var U=function(e){var t=e.children,n=f(),r=(n.user,n.setUser),o=Object(N.e)(),a=Object(c.useCallback)(Object(C.a)(k.a.mark((function e(){var t,n,c,a,i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.gapi||(alert("google API Not Found!!!"),o.replace("/login")),e.next=3,window.gapi.auth2.init({client_id:"71709386283-j70dgf0es5rsao99d5ouhk03jot8fihg.apps.googleusercontent.com",scope:"profile email"});case 3:return e.next=5,null===(t=window)||void 0===t||null===(n=t.gapi)||void 0===n?void 0:n.auth2.getAuthInstance();case 5:return(c=e.sent)||o.replace("/login"),e.next=9,c.currentUser.get();case 9:return a=e.sent,e.next=12,null===a||void 0===a?void 0:a.getBasicProfile();case 12:(i=e.sent)||o.replace("/login"),s={userid:i.getEmail(),name:i.getName(),image:i.getImageUrl(),Token:a.getAuthResponse().id_token},r(s);case 16:case"end":return e.stop()}}),e)}))),[o,r]);return Object(c.useEffect)(a,[a]),Object(d.jsx)(d.Fragment,{children:t})};var E=function(e){var t=e.children,n=e.onClick,c=e.onKeyPress;return Object(d.jsx)("button",{style:{backgroundColor:"blue",color:"white"},onClick:n,onKeyPress:c,children:t})};var L=function(){return Object(d.jsx)("button",{style:{backgroundColor:"blue",color:"white"},children:"\ud648\uc73c\ub85c"})};var T=function(){return Object(d.jsx)("button",{style:{backgroundColor:"blue",color:"white"},children:"\ubc14\ub85c\uac00\uae30"})};n(42);var F=function(){var e=Object(c.useRef)(),t=f().setUser,n=Object(N.e)(),r=function(e){var c=e.getBasicProfile(),r=c.getEmail();c.getId(),c.getName(),c.getImageUrl(),e.getAuthResponse().id_token;t({userid:r,login_source:"GOOGLE"}),alert(r+" \ub2d8 \ubc18\uac11\uc2b5\ub2c8\ub2e4"),n.replace("/")},o=function(){window.gapi?window.gapi.load("auth2",Object(C.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.gapi.auth2.init({client_id:"71709386283-j70dgf0es5rsao99d5ouhk03jot8fihg.apps.googleusercontent.com",scope:"profile email"});case 2:return(null===(n=t.sent)||void 0===n?void 0:n.isSignedIn.get())&&console.log("\ub85c\uadf8\uc778\uc774 \uc774\ubbf8 \ub41c\uc0c1\ud0dc"),t.next=6,n.attachClickHandler(e.current,{},r,(function(e){return alert(JSON.stringify(e))}));case 6:case"end":return t.stop()}}),t)})))):alert("Google API NOT Found")};return Object(c.useEffect)(o,[o]),Object(d.jsxs)("div",{id:"buttonWrapper",children:[Object(d.jsxs)("div",{id:"myGoogleBtn",ref:e,children:[Object(d.jsx)("span",{className:"icon"}),Object(d.jsx)("span",{className:"buttonText",children:"Google \ub85c\uadf8\uc778"})]}),Object(d.jsx)("span",{className:"buttonText",onClick:function(e){var t=window.gapi.auth2.getAuthInstance();null===t||void 0===t||t.disconnect(),alert("LogOut OK!!!")},children:"Google \ub85c\uadf8\uc544\uc6c3"})]})};var B=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App-header",children:Object(d.jsx)("img",{src:i,className:"App-logo",alt:"logo"})}),Object(d.jsx)(p,{children:Object(d.jsxs)(S,{children:[Object(d.jsx)(N.a,{exact:!0,path:"/login",children:Object(d.jsx)(P,{})}),Object(d.jsx)(N.a,{exact:!0,path:"/",children:Object(d.jsx)(U,{children:Object(d.jsx)(x,{header:"\uc774\ubc88\uc8fc\uc5d0 \ud560\uc77c",form:Object(d.jsx)(v,{}),children:Object(d.jsx)(g,{})})})})]})}),Object(d.jsx)(T,{}),Object(d.jsx)(L,{}),Object(d.jsx)(E,{onClick:function(){return alert("\uc9d1\uc5d0\uac00\uc790")},children:"\uc6b0\ub9ac\uc9d1"}),Object(d.jsx)(E,{children:"\uc11c\uc6b8\ub85c"}),Object(d.jsx)(E,{children:"\uc81c\uc8fc\ub85c"}),Object(d.jsx)(E,{children:"\ubbf8\uad6d\uc73c\ub85c"}),Object(d.jsx)(E,{children:"\ubd81\uadf9\uc73c\ub85c"})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root")),G()}},[[43,1,2]]]);
//# sourceMappingURL=main.1f3e1e2c.chunk.js.map